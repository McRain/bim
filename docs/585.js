function a3_0x27b7(){const _0x23f107=['from','value','1181694ogoLRD','__esModule','filter','all','IfcRelAggregates','find','loaded','112426IBLtaN','relations','getItem','type','Ошибка\x20при\x20удалении\x20данных','IfcViewDb','911756TNLaBG','put','includes','length','exports','32787xBXTpQ','add','children','getAll','objectStoreNames','prototype','result','updateItem','push','map','10ZConiL','properties','readonly','onerror','readwrite','options','models','uid','warn','objectStore','close','Name','dynamicStore','get','eid','postMessage','transaction','contains','target','version','onmessage','1477424HLtixq','Элемент\x20удален','delete','eager','hasChildren','init','catch','oncomplete','toStringTag','then','geometries','values','call','452396hpRomd','onsuccess','defineProperty','error','1019106bbClTY','indexOf','Ошибка\x20при\x20обновлении\x20базы\x20данных:','open','openDatabase','undefined','defaultDB','Module','Ошибка\x20при\x20открытии\x20базы\x20данных:','164coSnyo','onupgradeneeded'];a3_0x27b7=function(){return _0x23f107;};return a3_0x27b7();}function a3_0x3e3e(_0xdf310d,_0x1aa592){const _0x27b7df=a3_0x27b7();return a3_0x3e3e=function(_0x3e3e90,_0x212dce){_0x3e3e90=_0x3e3e90-0x10b;let _0x5de061=_0x27b7df[_0x3e3e90];return _0x5de061;},a3_0x3e3e(_0xdf310d,_0x1aa592);}(function(_0x35ee87,_0x2598e1){const _0xd5f3e5=a3_0x3e3e,_0x51a7cf=_0x35ee87();while(!![]){try{const _0x39a67b=parseInt(_0xd5f3e5(0x153))/0x1+parseInt(_0xd5f3e5(0x159))/0x2+parseInt(_0xd5f3e5(0x10f))/0x3*(-parseInt(_0xd5f3e5(0x148))/0x4)+parseInt(_0xd5f3e5(0x119))/0x5*(parseInt(_0xd5f3e5(0x14c))/0x6)+parseInt(_0xd5f3e5(0x13b))/0x7+-parseInt(_0xd5f3e5(0x12e))/0x8+-parseInt(_0xd5f3e5(0x13f))/0x9;if(_0x39a67b===_0x2598e1)break;else _0x51a7cf['push'](_0x51a7cf['shift']());}catch(_0x315ee7){_0x51a7cf['push'](_0x51a7cf['shift']());}}}(a3_0x27b7,0x448fd),((()=>{'use strict';var _0x47d9a2={0x249:(_0x384192,_0x361add,_0x299f7e)=>{const _0x944cd9=a3_0x3e3e;var _0x3389ef={};_0x299f7e['r'](_0x3389ef),_0x299f7e['d'](_0x3389ef,{'STORENAME_GEOM':()=>_0x49fdc8,'STORENAME_INPUT':()=>_0x5d9206,'STORENAME_MODELS':()=>_0x28a287,'STORENAME_OPTS':()=>_0x5674ff,'STORENAME_PROPS':()=>_0x532c52,'STORENAME_RELATIONS':()=>_0x547fec});;let _0x177c89=_0x944cd9(0x145),_0x36852b=null,_0x14dca3=[];class _0x139f71{static['Init'](_0x4a44bb,_0x1685c3){_0x177c89=_0x4a44bb,_0x14dca3=_0x1685c3;}static async[_0x944cd9(0x143)](_0x2d7731,_0x58bb1b){return new Promise((_0x51535e,_0x8337dd)=>{const _0x37941c=a3_0x3e3e,_0x365987=indexedDB[_0x37941c(0x142)](_0x177c89);_0x365987[_0x37941c(0x149)]=_0x54f173=>{const _0x19d6a7=_0x37941c,_0x360f37=_0x54f173[_0x19d6a7(0x12b)]['result'];for(let _0x503431=0x0;_0x503431<_0x14dca3[_0x19d6a7(0x10d)];_0x503431++){if(!_0x360f37[_0x19d6a7(0x113)][_0x19d6a7(0x12a)](_0x14dca3[_0x503431]))_0x360f37['createObjectStore'](_0x14dca3[_0x503431],{'keyPath':'id','autoIncrement':![]});}},_0x365987[_0x37941c(0x13c)]=_0x358b9a=>{const _0x5807e2=_0x37941c;_0x36852b=_0x358b9a[_0x5807e2(0x12b)][_0x5807e2(0x115)];if(!_0x36852b[_0x5807e2(0x113)][_0x5807e2(0x12a)](_0x2d7731)){_0x36852b[_0x5807e2(0x123)]();const _0x5ae967=_0x36852b[_0x5807e2(0x12c)]+0x1,_0x2b6f53=indexedDB[_0x5807e2(0x142)](_0x177c89,_0x5ae967);_0x2b6f53[_0x5807e2(0x149)]=_0x456f63=>{const _0x3c249a=_0x5807e2,_0x808246=_0x456f63[_0x3c249a(0x12b)][_0x3c249a(0x115)];_0x808246['createObjectStore'](_0x2d7731,{'keyPath':'id','autoIncrement':!![]});},_0x2b6f53[_0x5807e2(0x13c)]=_0x5718a4=>{const _0x5dcce9=_0x5807e2;_0x36852b=_0x5718a4[_0x5dcce9(0x12b)][_0x5dcce9(0x115)],_0x51535e(_0x36852b);},_0x2b6f53['onerror']=_0x26c62b=>{const _0x546369=_0x5807e2;_0x8337dd(_0x546369(0x141),_0x26c62b[_0x546369(0x12b)][_0x546369(0x13e)]);};}else _0x51535e(_0x36852b);},_0x365987['onerror']=_0x3b7f2b=>{const _0x84314a=_0x37941c;_0x8337dd(_0x84314a(0x147),_0x3b7f2b['target']['error']);};});}static async['addItem'](_0x50f85f,_0x120c3a){const _0x4e37f1=_0x944cd9,_0x349848=await _0x139f71[_0x4e37f1(0x143)](_0x50f85f),_0x884304=_0x349848[_0x4e37f1(0x129)](_0x50f85f,_0x4e37f1(0x11d)),_0x4ae1b0=_0x884304[_0x4e37f1(0x122)](_0x50f85f);return _0x4ae1b0[_0x4e37f1(0x110)](_0x120c3a),new Promise(_0x463301=>{const _0x4d549c=_0x4e37f1;_0x884304[_0x4d549c(0x135)]=()=>_0x463301(),_0x884304[_0x4d549c(0x11c)]=()=>_0x463301();});}static async[_0x944cd9(0x155)](_0x406ae6,_0x173315){const _0x403bab=_0x944cd9,_0x4cb1e7=await _0x139f71['openDatabase'](_0x406ae6),_0x261949=_0x4cb1e7[_0x403bab(0x129)](_0x406ae6,'readonly'),_0x38ad53=_0x261949[_0x403bab(0x122)](_0x406ae6);return new Promise((_0x109249,_0x49fd0c)=>{const _0x3dacbe=_0x403bab,_0x2295a9=_0x38ad53[_0x3dacbe(0x126)](_0x173315);_0x2295a9['onsuccess']=()=>_0x109249(_0x2295a9[_0x3dacbe(0x115)]),_0x2295a9[_0x3dacbe(0x11c)]=()=>_0x109249();});}static async['deleteItem'](_0x3f62f9,_0x4ab7e7){const _0xbd7f2c=_0x944cd9,_0x50da16=await this['openDatabase'](_0x3f62f9),_0x218e54=_0x50da16[_0xbd7f2c(0x129)](_0x3f62f9,_0xbd7f2c(0x11d)),_0x260011=_0x218e54[_0xbd7f2c(0x122)](_0x3f62f9);return new Promise((_0xa73078,_0x4295c7)=>{const _0x279ef4=_0xbd7f2c,_0x1cfeba=_0x260011[_0x279ef4(0x130)](_0x4ab7e7);_0x1cfeba[_0x279ef4(0x13c)]=()=>_0xa73078(_0x279ef4(0x12f)),_0x1cfeba[_0x279ef4(0x11c)]=()=>_0x4295c7(_0x279ef4(0x157));});}static async['getAllItems'](_0x5a549a){const _0x5976bc=_0x944cd9,_0x48ddf4=await _0x139f71[_0x5976bc(0x143)](_0x5a549a),_0x42c00a=_0x48ddf4[_0x5976bc(0x129)](_0x5a549a,_0x5976bc(0x11b)),_0x536586=_0x42c00a['objectStore'](_0x5a549a);return new Promise((_0x238c57,_0x5dad49)=>{const _0x27c071=_0x5976bc,_0x28b04f=_0x536586[_0x27c071(0x112)]();_0x28b04f[_0x27c071(0x13c)]=()=>_0x238c57(_0x28b04f['result']),_0x28b04f[_0x27c071(0x11c)]=()=>_0x238c57();});}static async[_0x944cd9(0x116)](_0x19f0e2,_0x58fa01){const _0x3dcfd8=_0x944cd9,_0x46ade1=await _0x139f71['openDatabase'](_0x19f0e2),_0x3e4b25=_0x46ade1[_0x3dcfd8(0x129)](_0x19f0e2,_0x3dcfd8(0x11d)),_0x13506a=_0x3e4b25[_0x3dcfd8(0x122)](_0x19f0e2);return new Promise((_0x57546d,_0x100b4c)=>{const _0x571af4=_0x3dcfd8,_0x5660d9=_0x13506a[_0x571af4(0x10b)](_0x58fa01);_0x5660d9[_0x571af4(0x13c)]=()=>_0x57546d(),_0x5660d9[_0x571af4(0x11c)]=()=>_0x100b4c();});}}const _0x52ae64=_0x139f71;;const _0x11f97c={'STORENAME_INPUT':_0x944cd9(0x125),'STORENAME_MODELS':_0x944cd9(0x11f),'STORENAME_GEOM':_0x944cd9(0x138),'STORENAME_PROPS':_0x944cd9(0x11a),'STORENAME_OPTS':_0x944cd9(0x11e),'STORENAME_RELATIONS':_0x944cd9(0x154)},{STORENAME_INPUT:_0x5d9206,STORENAME_MODELS:_0x28a287,STORENAME_GEOM:_0x49fdc8,STORENAME_PROPS:_0x532c52,STORENAME_OPTS:_0x5674ff,STORENAME_RELATIONS:_0x547fec}=_0x11f97c;;async function _0x4c4367(_0x5efb2c){const _0x3e0c0f=_0x944cd9,{properties:_0x128029}=await _0x52ae64[_0x3e0c0f(0x155)](_0x532c52,_0x5efb2c),_0x84f6ee=_0x128029[_0x3e0c0f(0x14e)](_0x1036b4=>_0x1036b4['type']==='IfcRelContainedInSpatialStructure'),_0x5a3bbb=_0x128029[_0x3e0c0f(0x14e)](_0x3baa6b=>_0x3baa6b[_0x3e0c0f(0x156)]===_0x3e0c0f(0x150)),_0xeb7ee3=[],_0x17a3e6={};for(let _0x4b6ea9=0x0;_0x4b6ea9<_0x84f6ee['length'];_0x4b6ea9++){const {RelatingStructure:_0x2548a4,RelatedElements:_0x17e0a8}=_0x84f6ee[_0x4b6ea9],_0x41216d=_0x128029['find'](_0x4e2927=>_0x4e2927[_0x3e0c0f(0x127)]===_0x2548a4['value']),_0x5d9c8b=_0x17a3e6[_0x41216d[_0x3e0c0f(0x120)]]||{'uid':_0x41216d['uid'],'eid':_0x41216d[_0x3e0c0f(0x127)],'type':_0x41216d[_0x3e0c0f(0x156)],'name':_0x41216d[_0x3e0c0f(0x124)]?_0x41216d[_0x3e0c0f(0x124)][_0x3e0c0f(0x14b)]:_0x41216d['type'],'children':[],'isSelected':![],'isVisible':!![]};_0x17a3e6[_0x41216d[_0x3e0c0f(0x120)]]=_0x5d9c8b;const _0x25b47f=_0x17e0a8[_0x3e0c0f(0x118)](_0x5b1aa6=>_0x5b1aa6[_0x3e0c0f(0x14b)]),_0x53e1d5=_0x128029['filter'](_0x16f257=>_0x25b47f['includes'](_0x16f257[_0x3e0c0f(0x127)]));for(let _0x25c02d=0x0;_0x25c02d<_0x53e1d5[_0x3e0c0f(0x10d)];_0x25c02d++){const _0x1add3c=_0x53e1d5[_0x25c02d],_0x4799bd=_0x17a3e6[_0x1add3c[_0x3e0c0f(0x120)]]||{'uid':_0x1add3c[_0x3e0c0f(0x120)],'eid':_0x1add3c['eid'],'type':_0x1add3c[_0x3e0c0f(0x156)],'name':_0x1add3c[_0x3e0c0f(0x124)]?_0x1add3c[_0x3e0c0f(0x124)]['value']:_0x1add3c[_0x3e0c0f(0x156)],'isSelected':![],'isVisible':!![]};_0x17a3e6[_0x4799bd['uid']]=_0x4799bd,_0x5d9c8b[_0x3e0c0f(0x111)][_0x3e0c0f(0x117)](_0x4799bd);}_0x5d9c8b[_0x3e0c0f(0x132)]=_0x53e1d5['length']>0x0,_0xeb7ee3[_0x3e0c0f(0x117)](_0x5d9c8b[_0x3e0c0f(0x120)]);}for(let _0x35f67f=0x0;_0x35f67f<_0x5a3bbb['length'];_0x35f67f++){const {RelatingObject:_0x746f9,RelatedObjects:_0x237ff8}=_0x5a3bbb[_0x35f67f],_0x473b76=_0x128029[_0x3e0c0f(0x151)](_0x3e16e=>_0x3e16e['eid']===_0x746f9[_0x3e0c0f(0x14b)]);if(!_0x473b76)continue;const _0x56482f=_0x17a3e6[_0x473b76[_0x3e0c0f(0x120)]]||{'uid':_0x473b76[_0x3e0c0f(0x120)],'eid':_0x473b76[_0x3e0c0f(0x127)],'type':_0x473b76[_0x3e0c0f(0x156)],'name':_0x473b76['Name']?_0x473b76[_0x3e0c0f(0x124)]['value']:_0x473b76['type'],'children':[],'isSelected':![],'isVisible':!![]};_0x17a3e6[_0x473b76[_0x3e0c0f(0x120)]]=_0x56482f;!_0x56482f[_0x3e0c0f(0x111)]&&(_0x56482f[_0x3e0c0f(0x111)]=[]);const _0x2ec182=_0x237ff8[_0x3e0c0f(0x118)](_0x260204=>_0x260204[_0x3e0c0f(0x14b)]),_0x4955fb=_0x128029[_0x3e0c0f(0x14e)](_0x597f55=>_0x2ec182[_0x3e0c0f(0x10c)](_0x597f55[_0x3e0c0f(0x127)]));for(let _0x484f0a=0x0;_0x484f0a<_0x4955fb[_0x3e0c0f(0x10d)];_0x484f0a++){const _0x2b0b2b=_0x4955fb[_0x484f0a],_0x326ed3=_0x17a3e6[_0x2b0b2b['uid']]||{'uid':_0x2b0b2b[_0x3e0c0f(0x120)],'eid':_0x2b0b2b['eid'],'type':_0x2b0b2b[_0x3e0c0f(0x156)],'name':_0x2b0b2b[_0x3e0c0f(0x124)]?_0x2b0b2b['Name']['value']:_0x2b0b2b[_0x3e0c0f(0x156)],'isSelected':![],'isVisible':!![]};_0x17a3e6[_0x2b0b2b[_0x3e0c0f(0x120)]]=_0x326ed3,_0x56482f[_0x3e0c0f(0x111)][_0x3e0c0f(0x117)](_0x326ed3);}_0x56482f[_0x3e0c0f(0x132)]=_0x4955fb[_0x3e0c0f(0x10d)]['length']>0x0;}await _0x52ae64['addItem'](_0x547fec,{'id':_0x5efb2c,'relations':_0x17a3e6,'spatial':_0xeb7ee3}),self[_0x3e0c0f(0x128)](_0xeb7ee3);}self[_0x944cd9(0x12d)]=_0x13863a=>{const _0x10f8ae=_0x944cd9;_0x52ae64['Init'](_0x10f8ae(0x158),Object[_0x10f8ae(0x139)](_0x3389ef)),_0x4c4367(_0x13863a['data']);};}},_0x53e39c={};function _0x473fef(_0x3eb74c){const _0x1a4786=a3_0x3e3e;var _0xd581aa=_0x53e39c[_0x3eb74c];if(_0xd581aa!==undefined)return _0xd581aa[_0x1a4786(0x10e)];var _0x1fd159=_0x53e39c[_0x3eb74c]={'exports':{}};return _0x47d9a2[_0x3eb74c](_0x1fd159,_0x1fd159[_0x1a4786(0x10e)],_0x473fef),_0x1fd159[_0x1a4786(0x10e)];}_0x473fef['m']=_0x47d9a2,_0x473fef['c']=_0x53e39c,((()=>{_0x473fef['d']=(_0x3bc0ac,_0x45d176)=>{const _0xa0590f=a3_0x3e3e;for(var _0x471a95 in _0x45d176){_0x473fef['o'](_0x45d176,_0x471a95)&&!_0x473fef['o'](_0x3bc0ac,_0x471a95)&&Object[_0xa0590f(0x13d)](_0x3bc0ac,_0x471a95,{'enumerable':!![],'get':_0x45d176[_0x471a95]});}};})()),((()=>{const _0x84a4a5=a3_0x3e3e;_0x473fef['o']=(_0x397082,_0x5c714f)=>Object[_0x84a4a5(0x114)]['hasOwnProperty'][_0x84a4a5(0x13a)](_0x397082,_0x5c714f);})()),((()=>{_0x473fef['r']=_0x1e4a5b=>{const _0x28d81c=a3_0x3e3e;typeof Symbol!==_0x28d81c(0x144)&&Symbol['toStringTag']&&Object[_0x28d81c(0x13d)](_0x1e4a5b,Symbol[_0x28d81c(0x136)],{'value':_0x28d81c(0x146)}),Object[_0x28d81c(0x13d)](_0x1e4a5b,_0x28d81c(0x14d),{'value':!![]});};})()),((()=>{_0x473fef['S']={};var _0x307cac={},_0x1529ba={};_0x473fef['I']=(_0x1fdd08,_0x50c333)=>{const _0x3177e3=a3_0x3e3e;if(!_0x50c333)_0x50c333=[];var _0x446d82=_0x1529ba[_0x1fdd08];if(!_0x446d82)_0x446d82=_0x1529ba[_0x1fdd08]={};if(_0x50c333[_0x3177e3(0x140)](_0x446d82)>=0x0)return;_0x50c333[_0x3177e3(0x117)](_0x446d82);if(_0x307cac[_0x1fdd08])return _0x307cac[_0x1fdd08];if(!_0x473fef['o'](_0x473fef['S'],_0x1fdd08))_0x473fef['S'][_0x1fdd08]={};var _0xd878ed=_0x473fef['S'][_0x1fdd08],_0x2d613d=_0xfb5350=>{const _0x243b1a=_0x3177e3;if(typeof console!==_0x243b1a(0x144)&&console['warn'])console[_0x243b1a(0x121)](_0xfb5350);},_0x793dfd='reneos.bimviewer',_0x3d0f1a=(_0xa3052d,_0x4880bc,_0x351570,_0x58ef15)=>{const _0x43775e=_0x3177e3;var _0x3a6bc2=_0xd878ed[_0xa3052d]=_0xd878ed[_0xa3052d]||{},_0x4ec9ff=_0x3a6bc2[_0x4880bc];if(!_0x4ec9ff||!_0x4ec9ff[_0x43775e(0x152)]&&(!_0x58ef15!=!_0x4ec9ff[_0x43775e(0x131)]?_0x58ef15:_0x793dfd>_0x4ec9ff[_0x43775e(0x14a)]))_0x3a6bc2[_0x4880bc]={'get':_0x351570,'from':_0x793dfd,'eager':!!_0x58ef15};},_0x235664=_0x1487ad=>{const _0x1c8eb1=_0x3177e3;var _0x149b76=_0x1244a5=>_0x2d613d('Initialization\x20of\x20sharing\x20external\x20failed:\x20'+_0x1244a5);try{var _0x14e1b5=_0x473fef(_0x1487ad);if(!_0x14e1b5)return;var _0x30c53b=_0xa8a17=>_0xa8a17&&_0xa8a17[_0x1c8eb1(0x133)]&&_0xa8a17['init'](_0x473fef['S'][_0x1fdd08],_0x50c333);if(_0x14e1b5[_0x1c8eb1(0x137)])return _0x1f5047[_0x1c8eb1(0x117)](_0x14e1b5[_0x1c8eb1(0x137)](_0x30c53b,_0x149b76));var _0x40c8e5=_0x30c53b(_0x14e1b5);if(_0x40c8e5&&_0x40c8e5[_0x1c8eb1(0x137)])return _0x1f5047['push'](_0x40c8e5[_0x1c8eb1(0x134)](_0x149b76));}catch(_0x41460a){_0x149b76(_0x41460a);}},_0x1f5047=[];switch(_0x1fdd08){}if(!_0x1f5047['length'])return _0x307cac[_0x1fdd08]=0x1;return _0x307cac[_0x1fdd08]=Promise[_0x3177e3(0x14f)](_0x1f5047)['then'](()=>_0x307cac[_0x1fdd08]=0x1);};})());var _0x3ee7e8=_0x473fef(0x249);})()));