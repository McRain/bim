function a4_0x3441(){const _0xf8bc83=['hasChildren','open','undefined','objectStore','then','indexOf','children','onerror','onupgradeneeded','type','data','deleteItem','Ошибка\x20при\x20обновлении\x20базы\x20данных:','readwrite','value','981974wVXARo','addItem','push','find','2503jjWwsh','delete','version','60dAbpGw','498tLQlpm','properties','8JJVFxb','close','transaction','call','put','onsuccess','oncomplete','dynamicStore','__esModule','openDatabase','Module','defineProperty','contains','475228JiuLod','objectStoreNames','models','onmessage','uid','Name','2127532CNkWzH','filter','Элемент\x20удален','length','add','all','getAll','error','toStringTag','IfcRelContainedInSpatialStructure','includes','getItem','result','createObjectStore','relations','exports','getAllItems','readonly','prototype','options','IfcViewDb','defaultDB','values','2076408iqkJuK','postMessage','1345932TLMRSU','Init','3jkFpmA','446szxlgt','eid','target','52535SvmRdZ','get'];a4_0x3441=function(){return _0xf8bc83;};return a4_0x3441();}function a4_0x40d2(_0x143703,_0x3733ef){const _0x3441ea=a4_0x3441();return a4_0x40d2=function(_0x40d23d,_0x800581){_0x40d23d=_0x40d23d-0x6c;let _0x1ce251=_0x3441ea[_0x40d23d];return _0x1ce251;},a4_0x40d2(_0x143703,_0x3733ef);}(function(_0x6cdb6e,_0x59fe1a){const _0x3970b4=a4_0x40d2,_0x3f87db=_0x6cdb6e();while(!![]){try{const _0x8899cc=parseInt(_0x3970b4(0xa8))/0x1*(parseInt(_0x3970b4(0x90))/0x2)+-parseInt(_0x3970b4(0x8f))/0x3*(parseInt(_0x3970b4(0x6e))/0x4)+parseInt(_0x3970b4(0x93))/0x5*(parseInt(_0x3970b4(0xac))/0x6)+parseInt(_0x3970b4(0xa4))/0x7*(parseInt(_0x3970b4(0xae))/0x8)+parseInt(_0x3970b4(0x8d))/0x9+parseInt(_0x3970b4(0xab))/0xa*(-parseInt(_0x3970b4(0x74))/0xb)+parseInt(_0x3970b4(0x8b))/0xc;if(_0x8899cc===_0x59fe1a)break;else _0x3f87db['push'](_0x3f87db['shift']());}catch(_0x2e52ac){_0x3f87db['push'](_0x3f87db['shift']());}}}(a4_0x3441,0x95dcb),((()=>{'use strict';const _0x5cb82e=a4_0x40d2;var _0x5a9f60={0x249:(_0x1869f8,_0x45939e,_0x256327)=>{const _0x478395=a4_0x40d2;var _0x580c03={};_0x256327['r'](_0x580c03),_0x256327['d'](_0x580c03,{'STORENAME_GEOM':()=>_0xbd68f0,'STORENAME_INPUT':()=>_0x1e9143,'STORENAME_MODELS':()=>_0x4e2fca,'STORENAME_OPTS':()=>_0x438cd7,'STORENAME_PROPS':()=>_0x21a288,'STORENAME_RELATIONS':()=>_0x3cc12b});let _0x277cf7=_0x478395(0x89),_0x4747a5=null,_0x346f89=[];class _0x18740e{static[_0x478395(0x8e)](_0x5ab8ee,_0xb690d){_0x277cf7=_0x5ab8ee,_0x346f89=_0xb690d;}static async['openDatabase'](_0x385c69,_0x37e323){return new Promise((_0x4d96d0,_0x43e7f6)=>{const _0x4994dd=a4_0x40d2,_0x3ea7a1=indexedDB[_0x4994dd(0x96)](_0x277cf7);_0x3ea7a1[_0x4994dd(0x9d)]=_0x26d425=>{const _0x1a0caa=_0x4994dd,_0x1fa1d5=_0x26d425[_0x1a0caa(0x92)][_0x1a0caa(0x80)];for(let _0x3322bc=0x0;_0x3322bc<_0x346f89[_0x1a0caa(0x77)];_0x3322bc++)_0x1fa1d5['objectStoreNames']['contains'](_0x346f89[_0x3322bc])||_0x1fa1d5[_0x1a0caa(0x81)](_0x346f89[_0x3322bc],{'keyPath':'id','autoIncrement':!0x1});},_0x3ea7a1[_0x4994dd(0xb3)]=_0x245689=>{const _0x3564ba=_0x4994dd;if(_0x4747a5=_0x245689['target'][_0x3564ba(0x80)],_0x4747a5[_0x3564ba(0x6f)][_0x3564ba(0x6d)](_0x385c69))_0x4d96d0(_0x4747a5);else{_0x4747a5[_0x3564ba(0xaf)]();const _0x508d86=_0x4747a5[_0x3564ba(0xaa)]+0x1,_0x2ee43e=indexedDB[_0x3564ba(0x96)](_0x277cf7,_0x508d86);_0x2ee43e[_0x3564ba(0x9d)]=_0x9c82a4=>{const _0xa84655=_0x3564ba;_0x9c82a4['target']['result'][_0xa84655(0x81)](_0x385c69,{'keyPath':'id','autoIncrement':!0x0});},_0x2ee43e[_0x3564ba(0xb3)]=_0x19096b=>{const _0x54f920=_0x3564ba;_0x4747a5=_0x19096b[_0x54f920(0x92)][_0x54f920(0x80)],_0x4d96d0(_0x4747a5);},_0x2ee43e[_0x3564ba(0x9c)]=_0x36a380=>{const _0x5daa2d=_0x3564ba;_0x43e7f6(_0x5daa2d(0xa1),_0x36a380[_0x5daa2d(0x92)][_0x5daa2d(0x7b)]);};}},_0x3ea7a1[_0x4994dd(0x9c)]=_0x31036e=>{const _0x2913f0=_0x4994dd;_0x43e7f6('Ошибка\x20при\x20открытии\x20базы\x20данных:',_0x31036e[_0x2913f0(0x92)][_0x2913f0(0x7b)]);};});}static async[_0x478395(0xa5)](_0x2456a2,_0x38df9b){const _0x582350=_0x478395,_0x4bee78=(await _0x18740e[_0x582350(0xb7)](_0x2456a2))[_0x582350(0xb0)](_0x2456a2,_0x582350(0xa2));return _0x4bee78[_0x582350(0x98)](_0x2456a2)[_0x582350(0x78)](_0x38df9b),new Promise(_0x146a9c=>{const _0x4bd85c=_0x582350;_0x4bee78[_0x4bd85c(0xb4)]=()=>_0x146a9c(),_0x4bee78['onerror']=()=>_0x146a9c();});}static async[_0x478395(0x7f)](_0x16814d,_0x18f624){const _0x5d5e43=_0x478395,_0x4d7a5e=(await _0x18740e[_0x5d5e43(0xb7)](_0x16814d))[_0x5d5e43(0xb0)](_0x16814d,_0x5d5e43(0x85))[_0x5d5e43(0x98)](_0x16814d);return new Promise((_0x1ab6ad,_0x3aa1d4)=>{const _0x5dd296=_0x5d5e43,_0x58dd1a=_0x4d7a5e[_0x5dd296(0x94)](_0x18f624);_0x58dd1a[_0x5dd296(0xb3)]=()=>_0x1ab6ad(_0x58dd1a[_0x5dd296(0x80)]),_0x58dd1a[_0x5dd296(0x9c)]=()=>_0x1ab6ad();});}static async[_0x478395(0xa0)](_0x29c408,_0x31f4ad){const _0xcb4876=_0x478395,_0x464cc9=(await this[_0xcb4876(0xb7)](_0x29c408))['transaction'](_0x29c408,_0xcb4876(0xa2))[_0xcb4876(0x98)](_0x29c408);return new Promise((_0x4bdb9d,_0xef9b84)=>{const _0x26c0a6=_0xcb4876,_0x43f7e4=_0x464cc9[_0x26c0a6(0xa9)](_0x31f4ad);_0x43f7e4[_0x26c0a6(0xb3)]=()=>_0x4bdb9d(_0x26c0a6(0x76)),_0x43f7e4[_0x26c0a6(0x9c)]=()=>_0xef9b84('Ошибка\x20при\x20удалении\x20данных');});}static async[_0x478395(0x84)](_0x4c574f){const _0x41a852=_0x478395,_0x285e67=(await _0x18740e['openDatabase'](_0x4c574f))[_0x41a852(0xb0)](_0x4c574f,_0x41a852(0x85))['objectStore'](_0x4c574f);return new Promise((_0x19e2ce,_0x2e14f8)=>{const _0x31e67a=_0x41a852,_0x5e7b04=_0x285e67[_0x31e67a(0x7a)]();_0x5e7b04['onsuccess']=()=>_0x19e2ce(_0x5e7b04[_0x31e67a(0x80)]),_0x5e7b04[_0x31e67a(0x9c)]=()=>_0x19e2ce();});}static async['updateItem'](_0x2153a4,_0x37be73){const _0x2916ee=_0x478395,_0x2405f4=(await _0x18740e[_0x2916ee(0xb7)](_0x2153a4))[_0x2916ee(0xb0)](_0x2153a4,_0x2916ee(0xa2))['objectStore'](_0x2153a4);return new Promise((_0x2ce2f2,_0x30cdfb)=>{const _0x3e33b1=_0x2916ee,_0x4788fe=_0x2405f4[_0x3e33b1(0xb2)](_0x37be73);_0x4788fe[_0x3e33b1(0xb3)]=()=>_0x2ce2f2(),_0x4788fe[_0x3e33b1(0x9c)]=()=>_0x30cdfb();});}}const _0x124bc7=_0x18740e,{STORENAME_INPUT:_0x1e9143,STORENAME_MODELS:_0x4e2fca,STORENAME_GEOM:_0xbd68f0,STORENAME_PROPS:_0x21a288,STORENAME_OPTS:_0x438cd7,STORENAME_RELATIONS:_0x3cc12b}={'STORENAME_INPUT':_0x478395(0xb5),'STORENAME_MODELS':_0x478395(0x70),'STORENAME_GEOM':'geometries','STORENAME_PROPS':_0x478395(0xad),'STORENAME_OPTS':_0x478395(0x87),'STORENAME_RELATIONS':_0x478395(0x82)};self[_0x478395(0x71)]=_0x51c832=>{const _0x4183b2=_0x478395;_0x124bc7[_0x4183b2(0x8e)](_0x4183b2(0x88),Object[_0x4183b2(0x8a)](_0x580c03)),async function(_0xb91475){const _0x1d1ec7=_0x4183b2,{properties:_0x1428d3}=await _0x124bc7[_0x1d1ec7(0x7f)](_0x21a288,_0xb91475),_0x316d9f=_0x1428d3['filter'](_0x5eac53=>_0x1d1ec7(0x7d)===_0x5eac53[_0x1d1ec7(0x9e)]),_0x1bd501=_0x1428d3['filter'](_0x1be77f=>'IfcRelAggregates'===_0x1be77f[_0x1d1ec7(0x9e)]),_0x80e93e=[],_0x30469b={};for(let _0x7eeef=0x0;_0x7eeef<_0x316d9f[_0x1d1ec7(0x77)];_0x7eeef++){const {RelatingStructure:_0x2f97c4,RelatedElements:_0x2bff8f}=_0x316d9f[_0x7eeef],_0x36ffd8=_0x1428d3['find'](_0x7a4fde=>_0x7a4fde[_0x1d1ec7(0x91)]===_0x2f97c4[_0x1d1ec7(0xa3)]),_0x5de1e0=_0x30469b[_0x36ffd8['uid']]||{'uid':_0x36ffd8[_0x1d1ec7(0x72)],'eid':_0x36ffd8[_0x1d1ec7(0x91)],'type':_0x36ffd8[_0x1d1ec7(0x9e)],'name':_0x36ffd8[_0x1d1ec7(0x73)]?_0x36ffd8['Name'][_0x1d1ec7(0xa3)]:_0x36ffd8[_0x1d1ec7(0x9e)],'children':[],'isSelected':!0x1,'isVisible':!0x0};_0x30469b[_0x36ffd8[_0x1d1ec7(0x72)]]=_0x5de1e0;const _0xf3e514=_0x2bff8f['map'](_0x2095d6=>_0x2095d6[_0x1d1ec7(0xa3)]),_0x44caa7=_0x1428d3[_0x1d1ec7(0x75)](_0x57d208=>_0xf3e514[_0x1d1ec7(0x7e)](_0x57d208['eid']));for(let _0x17cae7=0x0;_0x17cae7<_0x44caa7[_0x1d1ec7(0x77)];_0x17cae7++){const _0x279958=_0x44caa7[_0x17cae7],_0xe7351b=_0x30469b[_0x279958[_0x1d1ec7(0x72)]]||{'uid':_0x279958[_0x1d1ec7(0x72)],'eid':_0x279958['eid'],'type':_0x279958[_0x1d1ec7(0x9e)],'name':_0x279958['Name']?_0x279958[_0x1d1ec7(0x73)]['value']:_0x279958[_0x1d1ec7(0x9e)],'isSelected':!0x1,'isVisible':!0x0};_0x30469b[_0xe7351b[_0x1d1ec7(0x72)]]=_0xe7351b,_0x5de1e0[_0x1d1ec7(0x9b)][_0x1d1ec7(0xa6)](_0xe7351b);}_0x5de1e0['hasChildren']=_0x44caa7[_0x1d1ec7(0x77)]>0x0,_0x80e93e['push'](_0x5de1e0[_0x1d1ec7(0x72)]);}for(let _0x1e981b=0x0;_0x1e981b<_0x1bd501[_0x1d1ec7(0x77)];_0x1e981b++){const {RelatingObject:_0x453913,RelatedObjects:_0x4a3e4c}=_0x1bd501[_0x1e981b],_0x2100fa=_0x1428d3[_0x1d1ec7(0xa7)](_0x5ad78a=>_0x5ad78a['eid']===_0x453913[_0x1d1ec7(0xa3)]);if(!_0x2100fa)continue;const _0x3b7f1c=_0x30469b[_0x2100fa[_0x1d1ec7(0x72)]]||{'uid':_0x2100fa[_0x1d1ec7(0x72)],'eid':_0x2100fa[_0x1d1ec7(0x91)],'type':_0x2100fa['type'],'name':_0x2100fa['Name']?_0x2100fa['Name'][_0x1d1ec7(0xa3)]:_0x2100fa[_0x1d1ec7(0x9e)],'children':[],'isSelected':!0x1,'isVisible':!0x0};_0x30469b[_0x2100fa[_0x1d1ec7(0x72)]]=_0x3b7f1c,_0x3b7f1c['children']||(_0x3b7f1c['children']=[]);const _0x23ddf4=_0x4a3e4c['map'](_0x58d3b7=>_0x58d3b7['value']),_0xec8d95=_0x1428d3[_0x1d1ec7(0x75)](_0x1e7fed=>_0x23ddf4['includes'](_0x1e7fed[_0x1d1ec7(0x91)]));for(let _0x328611=0x0;_0x328611<_0xec8d95[_0x1d1ec7(0x77)];_0x328611++){const _0x33196f=_0xec8d95[_0x328611],_0x13eed0=_0x30469b[_0x33196f[_0x1d1ec7(0x72)]]||{'uid':_0x33196f[_0x1d1ec7(0x72)],'eid':_0x33196f[_0x1d1ec7(0x91)],'type':_0x33196f['type'],'name':_0x33196f[_0x1d1ec7(0x73)]?_0x33196f[_0x1d1ec7(0x73)]['value']:_0x33196f['type'],'isSelected':!0x1,'isVisible':!0x0};_0x30469b[_0x33196f[_0x1d1ec7(0x72)]]=_0x13eed0,_0x3b7f1c[_0x1d1ec7(0x9b)][_0x1d1ec7(0xa6)](_0x13eed0);}_0x3b7f1c[_0x1d1ec7(0x95)]=_0xec8d95[_0x1d1ec7(0x77)]['length']>0x0;}await _0x124bc7[_0x1d1ec7(0xa5)](_0x3cc12b,{'id':_0xb91475,'relations':_0x30469b,'spatial':_0x80e93e}),self[_0x1d1ec7(0x8c)](_0x80e93e);}(_0x51c832[_0x4183b2(0x9f)]);};}},_0x427893={};function _0x5c6af9(_0x897419){const _0x521fed=a4_0x40d2;var _0x514277=_0x427893[_0x897419];if(void 0x0!==_0x514277)return _0x514277[_0x521fed(0x83)];var _0x489ec8=_0x427893[_0x897419]={'exports':{}};return _0x5a9f60[_0x897419](_0x489ec8,_0x489ec8['exports'],_0x5c6af9),_0x489ec8['exports'];}_0x5c6af9['m']=_0x5a9f60,_0x5c6af9['c']=_0x427893,_0x5c6af9['d']=(_0xde78f3,_0xa3544e)=>{for(var _0x572e44 in _0xa3544e)_0x5c6af9['o'](_0xa3544e,_0x572e44)&&!_0x5c6af9['o'](_0xde78f3,_0x572e44)&&Object['defineProperty'](_0xde78f3,_0x572e44,{'enumerable':!0x0,'get':_0xa3544e[_0x572e44]});},_0x5c6af9['o']=(_0x5615a7,_0x4fdf05)=>Object[_0x5cb82e(0x86)]['hasOwnProperty'][_0x5cb82e(0xb1)](_0x5615a7,_0x4fdf05),_0x5c6af9['r']=_0x1f884d=>{const _0xf5c663=_0x5cb82e;_0xf5c663(0x97)!=typeof Symbol&&Symbol[_0xf5c663(0x7c)]&&Object['defineProperty'](_0x1f884d,Symbol[_0xf5c663(0x7c)],{'value':_0xf5c663(0xb8)}),Object[_0xf5c663(0x6c)](_0x1f884d,_0xf5c663(0xb6),{'value':!0x0});},((()=>{_0x5c6af9['S']={};var _0x2826ab={},_0x364242={};_0x5c6af9['I']=(_0x14eb8a,_0x5efe2e)=>{const _0x59151e=a4_0x40d2;_0x5efe2e||(_0x5efe2e=[]);var _0x1e5b77=_0x364242[_0x14eb8a];if(_0x1e5b77||(_0x1e5b77=_0x364242[_0x14eb8a]={}),!(_0x5efe2e[_0x59151e(0x9a)](_0x1e5b77)>=0x0)){if(_0x5efe2e[_0x59151e(0xa6)](_0x1e5b77),_0x2826ab[_0x14eb8a])return _0x2826ab[_0x14eb8a];_0x5c6af9['o'](_0x5c6af9['S'],_0x14eb8a)||(_0x5c6af9['S'][_0x14eb8a]={}),_0x5c6af9['S'][_0x14eb8a];var _0x97e4c1=[];return _0x2826ab[_0x14eb8a]=_0x97e4c1['length']?Promise[_0x59151e(0x79)](_0x97e4c1)[_0x59151e(0x99)](()=>_0x2826ab[_0x14eb8a]=0x1):0x1;}};})()),_0x5c6af9(0x249);})()));